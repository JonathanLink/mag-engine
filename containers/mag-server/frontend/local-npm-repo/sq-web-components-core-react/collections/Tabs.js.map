{"version":3,"sources":["collections/Tabs.tsx"],"names":[],"mappings":"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","file":"Tabs.js","sourcesContent":["import * as React from \"react\";\nimport * as PropTypes from \"prop-types\";\nimport TabsPanel, {TabsPanelProps} from \"./TabsPanel\";\nimport { getChildren } from \"../ReactUtils\";\nimport NamespaceWrapper, { NamespaceWrapperProps } from \"../utils/NamespaceWrapper\";\n\nexport interface TabsProps extends NamespaceWrapperProps {\n    className?: string;\n    tabActive?: number;\n\n    onMount?: (tab: number, selectedPanel: any, selectedMenu: any) => void;\n    onBeforeChange?: (tab: number, selectedPanel: any, selectedMenu: any) => boolean;\n    onAfterChange?: (tab: number, selectedPanel: any, selectedMenu: any) => void;\n\n    position?: \"bottom\";\n    variant?: \"loud\";\n    block?: boolean;\n\n    children?: React.ReactElement<TabsPanelProps>[] | React.ReactElement<TabsPanelProps>;\n}\n\nexport interface TabsState {\n    tabActive?: number;\n}\n\nexport default class Tabs extends NamespaceWrapper<TabsProps, TabsState> {\n    public static displayName = \"Tabs\";\n\n    public static propTypes = {\n        className: PropTypes.string,\n        position: PropTypes.oneOf([\"bottom\"]),\n        variant: PropTypes.oneOf([\"loud\"]),\n        block: PropTypes.bool,\n        tabActive: PropTypes.number,\n        onMount: PropTypes.func,\n        onBeforeChange: PropTypes.func,\n        onAfterChange: PropTypes.func,\n        children: PropTypes.node.isRequired\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            tabActive: props.tabActive\n        };\n    }\n\n    static defaultProps: TabsProps = {\n        tabActive: 1,\n        children: []\n    };\n\n    public componentDidMount() {\n        const index: number = this.state.tabActive;\n        const $selectedPanel: any = this.refs[\"tab-panel\"];\n        const $selectedMenu: any = this.refs[\"tab-menu-\" + index];\n        if (this.props.onMount != null) {\n            this.props.onMount(index, $selectedPanel, $selectedMenu);\n        }\n    }\n\n    public componentWillReceiveProps(nextProps: TabsProps) {\n        if (nextProps.tabActive != null) {\n            this.setState({tabActive: nextProps.tabActive});\n        }\n    }\n\n    public render() {\n        const className = this.classes(\n            \"Tabs\",\n            (this.props.variant == null ? \"\" : \"Tabs--\" + this.props.variant),\n            (this.props.position == null ? \"\" : \"Tabs--\" + this.props.position),\n            (this.props.block ? \"Tabs--block\" : \"\"),\n            (this.props.className == null ? \"\" : this.props.className)\n        );\n\n        return <div className={className}>\n            { this.props.position !== \"bottom\" ? this.renderMenuItems() : null }\n            { this.renderPanels() }\n            { this.props.position === \"bottom\" ? this.renderMenuItems() : null }\n        </div>;\n    }\n\n    public setActive(index: number, e: React.SyntheticEvent<HTMLLIElement>) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        const onAfterChange = this.props.onAfterChange;\n        const onBeforeChange = this.props.onBeforeChange;\n        const $selectedPanel = this.refs[\"tab-panel\"];\n        const $selectedMenu = this.refs[\"tab-menu-\" + index];\n\n        if (onBeforeChange != null && !onBeforeChange(index, $selectedPanel, $selectedMenu)) {\n            return;\n        }\n\n        this.setState({tabActive: index}, () => {\n            if (onAfterChange != null) {\n                onAfterChange(index, $selectedPanel, $selectedMenu);\n            }\n        });\n    }\n\n    private handleKeyDown(index: number, event: React.KeyboardEvent<HTMLLIElement>) {\n        let newActive: number = null;\n        if (event.keyCode === 37 || event.keyCode === 38) {\n            newActive = this.findPreviousActive();\n        } else if (event.keyCode === 39 || event.keyCode === 40) {\n            newActive = this.findNextActive();\n        } else if (event.which === 32) {\n            newActive = index;\n        }\n        if (newActive != null) {\n            this.setActive(newActive, event);\n        }\n    }\n\n    private findNextActive(): number {\n        let currentIndex: number = this.state.tabActive - 1;\n        currentIndex++;\n        while (this.props.children[currentIndex] != null) {\n            const panel: TabsPanel = this.props.children[currentIndex];\n            if (!panel.props.disabled && !panel.props.hidden) {\n                return currentIndex + 1;\n            }\n            currentIndex++;\n        }\n        return null;\n    }\n\n    private findPreviousActive(): number {\n        let currentIndex: number = this.state.tabActive - 1;\n        currentIndex--;\n        while ((this.props.children[currentIndex] != null)) {\n            const panel: TabsPanel = this.props.children[currentIndex];\n            if (!panel.props.disabled && !panel.props.hidden) {\n                return currentIndex + 1;\n            }\n            currentIndex--;\n        }\n        return null;\n    }\n\n    private renderPanels() {\n        let children: React.ReactElement<TabsPanelProps>[] = getChildren<TabsPanelProps>(this.props.children);\n        const that: Tabs = this;\n\n        const $panelsItems: any[] = children.map(($panel, arrIndex, strings) => {\n            let panel: React.ReactElement<TabsPanelProps> = $panel;\n            const index: number = arrIndex + 1;\n            const panelClasses: string = this.classes(\n                \"Tabs__panel\",\n                (that.state.tabActive === index) ? \"is-display\" : \"\",\n                (panel.props.className == null ? \"\" : panel.props.className)\n            );\n            return <div ref=\"tab-panel\" key={arrIndex} className={panelClasses} role=\"tabpanel\">{$panel}</div>;\n        });\n\n        return $panelsItems;\n    }\n\n    private renderMenuItems() {\n        if (this.props.children == null) {\n            throw new Error(\"Tabs must contain at least one TabsPanel\");\n        }\n\n        let children: React.ReactElement<TabsPanelProps>[] = getChildren<TabsPanelProps>(this.props.children);\n\n        const that: Tabs = this;\n        const $menuItems: any[] = children.map(($panel, arrIndex, strings) => {\n                let panel: React.ReactElement<TabsPanelProps> = $panel;\n                const index: number = arrIndex + 1;\n                const title: any = panel.props.title;\n                const itemClasses: string = this.classes(\"Tabs__item\", (that.state.tabActive === index) ? \"is-active\" : \"\", (panel.props.disabled ? \"is-disabled\" : \"\"), (panel.props.hidden ? \"is-hidden\" : \"\"));\n                const parameters: React.LiHTMLAttributes<HTMLLIElement> & {\"aria-expanded\": string, \"aria-selected\": string} = {\n                    \"tabIndex\": panel.props.disabled || panel.props.hidden ? -1 : 0,\n                    \"aria-selected\": that.state.tabActive === index ? \"true\" : \"false\",\n                    \"aria-expanded\": that.state.tabActive === index ? \"true\" : \"false\",\n                };\n                if (!panel.props.disabled && !panel.props.hidden) {\n                    parameters.onClick = (event) => that.setActive(index, event);\n                    parameters.onKeyDown = (event) => that.handleKeyDown(index, event);\n                }\n                if (panel.props.disabled) {\n                    parameters[\"aria-disabled\"] = \"true\";\n                }\n                if (panel.props.hidden) {\n                    parameters[\"aria-hidden\"] = \"true\";\n                }\n\n                parameters.children = title;\n\n                return <li ref={\"tab-menu-\" + index} key={arrIndex} className={itemClasses} role=\"tab\" {...parameters} />;\n            }\n        );\n\n        return <ul className={this.classes(\"Tabs__list\")}>{$menuItems}</ul>;\n    }\n}\n\nexport { TabsPanel };\n"]}