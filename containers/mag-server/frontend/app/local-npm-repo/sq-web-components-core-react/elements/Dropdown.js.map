{"version":3,"sources":["elements/Dropdown.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAC/B,OAAO,KAAK,QAAQ,MAAM,WAAW,CAAC;AACtC,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,EAAgB,MAAM,cAAc,CAAC;AACrE,OAAO,MAAM,MAAM,cAAc,CAAC;AAElC,OAAO,gBAA2C,MAAM,2BAA2B,CAAC;AACpF,OAAO,EAAE,YAAY,EAAE,KAAK,EAAE,MAAM,UAAU,CAAC;AAkB/C;IAAsC,4BAA8C;IAElF,kBAAY,KAAK;QAAjB,YACE,kBAAM,KAAK,CAAC,SAKb;QAED,iBAAW,GAAG,UAAC,KAAK;YAClB,EAAE,CAAC,CAAC,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;gBACpB,MAAM,CAAC;YACT,CAAC;YAED,KAAI,CAAC,QAAQ,CAAC;gBACZ,IAAI,EAAE,CAAC,KAAI,CAAC,KAAK,CAAC,IAAI;aACvB,CAAC,CAAC;YACH,KAAK,CAAC,cAAc,EAAE,CAAC;QACzB,CAAC,CAAA;QAdC,KAAI,CAAC,KAAK,GAAG;YACX,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,IAAI,KAAK;SAC5B,CAAC;;IACJ,CAAC;IAaD,gCAAa,GAAb;QACE,EAAE,CAAC,CAAC,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,KAAK,UAAU,CAAC,CAAC,CAAC;YAC7C,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,8BACzC,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAS,CAAC,CAAC;QAC/C,CAAC;QAED,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;IAC5B,CAAC;IAED,+BAAY,GAAZ,UAAa,EAAW;QACtB,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC9E,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,YAAY,CAAC;QACvC,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,cAAc,CAAC;QAC3C,CAAC;IACH,CAAC;IAED,yBAAM,GAAN;QACE,IAAM,eAAiG,EAAhG,wBAAS,EAAE,sBAAQ,EAAE,cAAI,EAAE,cAAI,EAAE,UAAE,EAAE,oBAAO,EAAE,sBAAQ,EAAE,wBAAS,EAAE,gBAAK,EAAE,gHAAsB,CAAC;QAExG,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAC1B,UAAU,EACV,CAAC,QAAQ,IAAI,aAAa,CAAC,EAC3B,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,SAAS,CAAC,EAC9B,CAAC,IAAI,IAAI,YAAY,GAAG,IAAI,CAAC,EAC7B,CAAC,EAAE,IAAI,kBAAkB,CAAC,EAC1B,CAAC,KAAK,IAAI,iBAAiB,CAAC,EAC5B,CAAC,YAAY,EAAE,IAAI,kBAAkB,CAAC,EACtC,SAAS,CACV,CAAC;QAEF,IAAI,gBAAgB,GAAG,YAAY,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC;QACxD,IAAI,eAAe,GAAG,YAAY,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC;QAEzD,sEAAsE;QAEtE,MAAM,CAAC,oBAAC,gBAAgB,aAAC,SAAS,EAAE,OAAO,EAAE,QAAQ,EAAE,CAAC,EAAE,GAAG,EAAC,SAAS,IAAK,KAAK;YAC/E,oBAAC,eAAe,IAAC,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,EAC5C,OAAO,EAAE,IAAI,CAAC,WAAW,IAAG,IAAI,CAAC,aAAa,EAAE,CAAmB;YAEnF,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,EAAE,CAAC,CACf,CAAC;IACtB,CAAC;IAED,+BAAY,GAAZ,UAAa,QAAQ,EAAE,EAAE;QACvB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;YACrB,MAAM,CAAC;QACT,CAAC;QAED,EAAE,CAAC,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;YACnB,MAAM,CAAC,6BAAK,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,IACpD,QAAQ,CACL,CAAC;QACT,CAAC;QAED,MAAM,CAAC,oBAAC,MAAM;YACZ,oBAAC,MAAM,IAAC,SAAS,EAAE,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,IACrC,QAAQ,CACF,CACF,CAAC;IACZ,CAAC;IACH,eAAC;AAAD,CAlFA,AAkFC,CAlFqC,gBAAgB,GAkFrD","file":"Dropdown.js","sourcesContent":["import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { Manager, Popper, Target, IPopperProps } from \"react-popper\";\nimport Portal from \"react-travel\";\n\nimport NamespaceWrapper, { NamespaceWrapperProps } from \"../utils/NamespaceWrapper\";\nimport { isIE9OrBelow, isRTL } from \"../utils\";\n\nexport interface DropdownProps extends NamespaceWrapperProps {\n  disabled?: boolean;\n  up?: boolean;\n  open?: boolean;\n  block?: boolean;\n  size?: \"small\" | \"medium\" | \"large\";\n  className?: string;\n  trigger: ((isOpen: boolean, caret: React.ReactNode) => React.ReactNode) | React.ReactNode;\n\n  style?: React.CSSProperties;\n}\n\nexport interface DropdownState {\n  open?: boolean;\n}\n\nexport default class Dropdown extends NamespaceWrapper<DropdownProps, DropdownState> {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      open: !!props.open || false\n    };\n  }\n\n  handleClick = (event) => {\n    if (this.props.open) {\n      return;\n    }\n\n    this.setState({\n      open: !this.state.open\n    });\n    event.preventDefault();\n  }\n\n  renderTrigger() {\n    if (typeof this.props.trigger === \"function\") {\n      return this.props.trigger(this.state.open, <span\n        className={this.classes(\"Caret\")}></span>);\n    }\n\n    return this.props.trigger;\n  }\n\n  getPlacement(up: boolean): \"top-end\" | \"bottom-end\" | \"top-start\" | \"bottom-start\" {\n    if (this.refs[\"manager\"] && isRTL(ReactDOM.findDOMNode(this.refs[\"manager\"]))) {\n      return up ? \"top-end\" : \"bottom-end\";\n    } else {\n      return up ? \"top-start\" : \"bottom-start\";\n    }\n  }\n\n  render() {\n    const {namespace, disabled, open, size, up, trigger, children, className, block, ...props} = this.props;\n\n    const classes = this.classes(\n      \"Dropdown\",\n      (disabled && \"is-disabled\"),\n      (this.state.open && \"is-open\"),\n      (size && \"Dropdown--\" + size),\n      (up && \"Dropdown--dropup\"),\n      (block && \"Dropdown--block\"),\n      (isIE9OrBelow() && \"Dropdown--legacy\"),\n      className\n    );\n\n    let ManagerComponent = isIE9OrBelow() ? \"div\" : Manager;\n    let TargetComponent = isIE9OrBelow() ? \"button\" : Target;\n\n    // TODO :: report \"block\" and \"size\" to the child popper automatically\n\n    return <ManagerComponent className={classes} tabIndex={0} ref=\"manager\" {...props}>\n      <TargetComponent className={this.classes(\"Dropdown__trigger\")}\n                       onClick={this.handleClick}>{this.renderTrigger()}</TargetComponent>\n\n      {this.renderPopper(children, up)}\n    </ManagerComponent>;\n  }\n\n  renderPopper(children, up) {\n    if (!this.state.open) {\n      return;\n    }\n\n    if (isIE9OrBelow()) {\n      return <div className={this.classes(\"Dropdown__popper\")}>\n        {children}\n      </div>;\n    }\n\n    return <Portal>\n      <Popper placement={this.getPlacement(up)}>\n        {children}\n      </Popper>\n    </Portal>;\n  }\n}\n"]}