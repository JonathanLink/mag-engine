{"version":3,"sources":["domUtils.ts"],"names":[],"mappings":"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","file":"domUtils.js","sourcesContent":["\nexport function getComputedStyle(elem) {\n  // Support: IE <=11 only, Firefox <=30 (#15098, #14150)\n  // IE throws on elements created in popups\n  // FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n  let view = elem.ownerDocument.defaultView;\n  if ( !view || !view.opener ) {\n    view = window;\n  }\n  return view.getComputedStyle(elem);\n}\n\nexport function getCSSAttr(computed, attr) {\n  return computed.getPropertyValue( attr ) || computed[ attr ];\n}\n\nexport function getCSSAttrNumeric(computed, attr) {\n  const val = getCSSAttr(computed, attr);\n  let value = parseInt(val, 10);\n  // we must check for NaN for ie 8/9\n  return isNaN(value) ? 0 : value;\n}\n\nexport function getOffset(elem) {\n  // Return zeros for disconnected and hidden (display: none) elements (gh-2310)\n  // Support: IE <=11 only\n  // Running getBoundingClientRect on a\n  // disconnected node in IE throws an error\n  if ( !elem.getClientRects().length ) {\n    return { top: 0, left: 0 };\n  }\n\n  // Get document-relative position by adding viewport scroll to viewport-relative gBCR\n  let rect = elem.getBoundingClientRect();\n  let win = elem.ownerDocument.defaultView;\n  return {\n    top: rect.top + win.pageYOffset,\n    left: rect.left + win.pageXOffset\n  };\n}\n\nexport function getScrollTop(elem) {\n  let win;\n  if (elem && elem === elem.window) {\n    win = elem;\n  } else if ( elem.nodeType === 9 ) {\n    win = elem.defaultView;\n  }\n\n  return win ? win.pageYOffset : elem.scrollTop;\n}\n\nexport function getElementPosition(elem, computed) {\n  let offsetParent, offset, doc,\n    parentOffset = { top: 0, left: 0 };\n\n  // position:fixed elements are offset from the viewport, which itself always has zero offset\n  if ( getCSSAttr( computed, \"position\" ) === \"fixed\" ) {\n    // Assume position:fixed implies availability of getBoundingClientRect\n    offset = elem.getBoundingClientRect();\n  } else {\n    offset = getOffset(elem);\n\n    // Account for the *real* offset parent, which can be the document or its root element\n    // when a statically positioned element is identified\n    doc = elem.ownerDocument;\n    offsetParent = elem.offsetParent || doc.documentElement;\n\n    while ( offsetParent &&\n    ( offsetParent === doc.body || offsetParent === doc.documentElement ) &&\n    getCSSAttr( this.getComputedStyle(offsetParent), \"position\" ) === \"static\" ) {\n      offsetParent = offsetParent.parentNode;\n    }\n    if ( offsetParent && offsetParent !== elem && offsetParent.nodeType === 1 ) {\n\n      const computedOffsetParent = this.getComputedStyle(offsetParent);\n\n      // Incorporate borders into its offset, since they are outside its content origin\n      parentOffset = getOffset(offsetParent);\n      parentOffset.top += getCSSAttrNumeric( computedOffsetParent, \"borderTopWidth\");\n      parentOffset.left += getCSSAttrNumeric( computedOffsetParent, \"borderLeftWidth\");\n    }\n  }\n\n  // Subtract parent offsets and element margins\n  return {\n    top: offset.top - parentOffset.top - getCSSAttrNumeric(computed, \"marginTop\"),\n    left: offset.left - parentOffset.left - getCSSAttrNumeric(computed, \"marginLeft\")\n  };\n}\n\nexport function setOffset(elem, options) {\n  const computed = getComputedStyle(elem);\n  const position = getCSSAttr(computed, \"position\");\n  const props = {top: 0, left: 0};\n\n  // Set position first, in-case top/left are set even on static elem\n  if (position === \"static\") {\n    elem.style.position = \"relative\";\n  }\n\n  const curOffset = getOffset(elem);\n  const curCSSTop = getCSSAttr(computed, \"top\");\n  const curCSSLeft = getCSSAttr(computed, \"left\");\n  const calculatePosition = ( position === \"absolute\" || position === \"fixed\" ) &&\n    ( curCSSTop + curCSSLeft ).indexOf(\"auto\") > -1;\n\n  // Need to be able to calculate position if either\n  // top or left is auto and position is either absolute or fixed\n  let curPosition, curLeft, curTop;\n  if (calculatePosition) {\n    curPosition = getElementPosition(elem, computed);\n    curTop = curPosition.top;\n    curLeft = curPosition.left;\n  } else {\n    curTop = parseFloat(curCSSTop) || 0;\n    curLeft = parseFloat(curCSSLeft) || 0;\n  }\n\n  //eslint-disable-next-line eqeqeq\n  if (options.top != null) {\n    props.top = options.top - curOffset.top + curTop;\n  }\n  //eslint-disable-next-line eqeqeq\n  if (options.left != null) {\n    props.left = options.left - curOffset.left + curLeft;\n  }\n\n  elem.style.posLeft = Math.round(props.left);\n  elem.style.posTop = Math.round(props.top);\n}\n"]}